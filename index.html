<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OnTheWall Online Store</title>
  <style>
    body { margin:0; font-family:Arial, sans-serif; background:#f5f5f5; }
    header { 
      background:white; 
      padding:0px 20px; 
      display:flex; 
      justify-content:space-between; 
      align-items:center; 
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
    }
    .logo { 
      display:flex; 
      align-items:center; 
      gap:12px; 
    }
    .logo img { 
      width:400px; 
      height:200px; 
      object-fit:contain; 
    }
    .logo h2 { 
      margin:0; 
    }
    nav a { margin:0 12px; text-decoration:none; color:#333; font-weight:500; }
    .banner { 
      width:100%; 
      height:380px; 
      background: #ddd url('https://i.ibb.co/1jdhF5F/1.jpg') center/cover no-repeat; /* ‚¨ÖÔ∏è ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏£‡∏π‡∏õ banner ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ */
      display:flex; 
      justify-content:center; 
      align-items:center; 
    }

    /* ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà */
    .categories { background:white; padding:40px; text-align:center; }
    .cat-grid { display:flex; justify-content:center; gap:40px; flex-wrap:wrap; margin-top:30px; }
    .cat-item { 
      width:140px; 
      background:white; 
      padding:15px; 
      border-radius:12px; 
      box-shadow:0 3px 10px rgba(0,0,0,0.08); 
      cursor:pointer; 
      transition:0.3s; 
    }
    .cat-item:hover { 
      transform:scale(1.05) translateY(-5px); 
      box-shadow:0 8px 20px rgba(0,0,0,0.15); /* ‡πÄ‡∏á‡∏≤‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≠‡∏ô hover */
    }

    /* ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
    .products-section { padding:40px; background:white; margin-top:20px; }
    .product-grid { display:flex; flex-wrap:wrap; gap:30px; justify-content:center; }
    .product-card { 
      width:220px; 
      background:white; 
      border-radius:12px; 
      box-shadow:0 3px 10px rgba(0,0,0,0.1); 
      padding:15px; 
      transition:0.3s;
    }
    .product-card:hover {
      transform:translateY(-8px);
      box-shadow:0 12px 25px rgba(0,0,0,0.2); /* ‡πÄ‡∏á‡∏≤‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≠‡∏ô hover */
    }
    .product-card img { width:100%; height:160px; object-fit:cover; border-radius:8px; }
    .btn { display:block; margin-top:12px; padding:10px; background:#333; color:white; text-align:center; border-radius:8px; cursor:pointer; }

    /* Cart */
    .cart-panel {
      position: fixed;
      right: 0;
      top: 0;
      width: 380px;
      height: 100%;
      background: #fff;
      box-shadow: -4px 0 15px rgba(0,0,0,0.2);
      padding: 20px;
      transform: translateX(100%);
      transition: 0.28s ease-in-out;
      z-index: 9999;
      overflow-y: auto;
    }
    .cart-panel.active { transform: translateX(0); }
    .cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .cart-header h3 { font-size: 22px; font-weight: 700; margin: 0; }
    .close-btn { background:transparent; border:0; font-size:20px; cursor:pointer; }
    
    .cart-item {
      display: flex;
      gap: 12px;
      margin-bottom: 15px;
      align-items: center;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    .cart-item img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
    }
    .cart-item-info { flex: 1; }
    .cart-item-info .name { font-weight: 700; margin-bottom: 4px; font-size: 14px; }
    .cart-item-info .price { font-size: 13px; color: #555; }
    .cart-item-actions {
      text-align: right;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 6px;
    }
    .cart-item-actions .line-total { font-weight: 700; font-size: 14px; }
    .cart-item-actions .qty-controls {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    .qty-controls button {
      width: 28px;
      height: 28px;
      border: 1px solid #ccc;
      border-radius: 50%;
      background: #f9f9f9;
      cursor: pointer;
      font-weight: 700;
    }
    .qty-controls button:hover {
      background: #e9e9e9;
    }
    .qty-controls div { min-width: 20px; text-align: center; font-size: 14px; }
    .remove-btn {
      background: transparent;
      border: none;
      color: #d33;
      font-size: 18px;
      cursor: pointer;
    }
    .remove-btn:hover {
      color: #a00;
    }
    .cart-total { 
      margin-top: 20px; 
      padding-top: 15px;
      font-size: 16px; 
      font-weight: 700;
      border-top: 2px solid #333;
    }
    .cart-buttons {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .checkout-btn, .continue-btn {
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: 0.2s;
    }
    .checkout-btn {
      background: #333;
      color: white;
    }
    .checkout-btn:hover {
      background: #555;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .continue-btn {
      background: white;
      color: #333;
      border: 2px solid #333;
    }
    .continue-btn:hover {
      background: #f5f5f5;
    }
    .muted {
      color: #999;
      text-align: center;
      padding: 20px;
    }

    @media (max-width:900px){
      .product-card{width:45%}
      .cat-item{width:120px}
      .cart-panel{width:100%;}
    }

  </style>
</head>
<body>

<header>
  <div class="logo">
    <img src="https://i.ibb.co/h1MXxz5n/image.jpg" alt="Logo"> <!-- ‚¨ÖÔ∏è ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏£‡∏π‡∏õ logo ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
    <h2></h2>
  </div>
  <nav>
    <a href="#home">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
    <a href="#products">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
    <a href="#" onclick="toggleCart(); return false;">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</a>
    <a href="#">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</a>
  </nav>
</header>

<section class="banner" id="banner">
  <!-- ‡πÉ‡∏™‡πà‡∏†‡∏≤‡∏û banner ‡∏î‡πâ‡∏ß‡∏¢ CSS ‡∏´‡∏£‡∏∑‡∏≠ JavaScript ‡πÑ‡∏î‡πâ -->
</section>

<section class="categories">
  <h2>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
  <div class="cat-grid">
    <div class="cat-item" onclick="filterCategory('all')"><p>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p></div>
    <div class="cat-item" onclick="filterCategory('wallpaper')"><p>Wallpapers ‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á</p></div>
    <div class="cat-item" onclick="filterCategory('lamp')"><p>‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü</p></div>
    <div class="cat-item" onclick="filterCategory('garden')"><p>‡πÑ‡∏ü‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏™‡∏ß‡∏ô</p></div>
    <div class="cat-item" onclick="filterCategory('frame')"><p>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏Ç‡∏ß‡∏ô‡∏ú‡∏ô‡∏±‡∏á</p></div>
    <div class="cat-item" onclick="filterCategory('builtin')"><p>Build-in ‡∏ï‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á</p></div>
  </div>
</section>

<section class="products-section" id="products">
  <h2></h2>
  <div class="product-grid" id="productList"></div>
</section>

<!-- Cart -->
<div class="cart-panel" id="cartPanel" aria-hidden="true">
  <div class="cart-header">
    <h3>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
    <button class="close-btn" onclick="toggleCart()">‚úï</button>
  </div>
  <div id="cartItems"></div>
  <div class="cart-total">
    <p><b>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</b> <span id="totalPrice">0</span> ‡∏ö‡∏≤‡∏ó</p>
  </div>
  <div class="cart-buttons">
    <button class="checkout-btn" onclick="goToCheckout()">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
    <button class="continue-btn" onclick="continueShopping()">‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ</button>
  </div>
</div>

<script>
  const products = [
    {id:1, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:2, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:3, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:4, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:5, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:6, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:7, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:8, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:9, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:10, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:11, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:12, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:13, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:14, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:15, name:"Wallpaper ‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô", price:890, cat:"wallpaper", img:"https://picsum.photos/300/200?1"},
    {id:16, name:"‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡∏´‡∏±‡∏ß‡πÄ‡∏ï‡∏µ‡∏¢‡∏á", price:1290, cat:"lamp", img:"https://picsum.photos/300/200?2"},
    {id:17, name:"‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡∏´‡∏±‡∏ß‡πÄ‡∏ï‡∏µ‡∏¢‡∏á", price:1290, cat:"lamp", img:"https://picsum.photos/300/200?2"},
    {id:18, name:"‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡∏´‡∏±‡∏ß‡πÄ‡∏ï‡∏µ‡∏¢‡∏á", price:1290, cat:"lamp", img:"https://picsum.photos/300/200?2"},
    {id:19, name:"‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡∏´‡∏±‡∏ß‡πÄ‡∏ï‡∏µ‡∏¢‡∏á", price:1290, cat:"lamp", img:"https://picsum.photos/300/200?2"},
    {id:20, name:"‡πÇ‡∏Ñ‡∏°‡πÑ‡∏ü‡∏´‡∏±‡∏ß‡πÄ‡∏ï‡∏µ‡∏¢‡∏á", price:1290, cat:"lamp", img:"https://picsum.photos/300/200?2"},
    {id:21, name:"‡πÑ‡∏ü‡∏™‡∏ô‡∏≤‡∏°‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå", price:590, cat:"garden", img:"https://picsum.photos/300/200?3"},
    {id:22, name:"‡πÑ‡∏ü‡∏™‡∏ô‡∏≤‡∏°‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå", price:590, cat:"garden", img:"https://picsum.photos/300/200?3"},
    {id:23, name:"‡πÑ‡∏ü‡∏™‡∏ô‡∏≤‡∏°‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå", price:590, cat:"garden", img:"https://picsum.photos/300/200?3"},
    {id:24, name:"‡πÑ‡∏ü‡∏™‡∏ô‡∏≤‡∏°‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå", price:590, cat:"garden", img:"https://picsum.photos/300/200?3"},
    {id:25, name:"‡πÑ‡∏ü‡∏™‡∏ô‡∏≤‡∏°‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå", price:590, cat:"garden", img:"https://picsum.photos/300/200?3"},
    {id:26, name:"‡πÑ‡∏ü‡∏™‡∏ô‡∏≤‡∏°‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå", price:590, cat:"garden", img:"https://picsum.photos/300/200?3"},
    {id:27, name:"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ART Deco", price:1490, cat:"frame", img:"https://picsum.photos/300/200?4"},
    {id:28, name:"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ART Deco", price:1490, cat:"frame", img:"https://picsum.photos/300/200?4"},
    {id:29, name:"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ART Deco", price:1490, cat:"frame", img:"https://picsum.photos/300/200?4"},
    {id:30, name:"‡∏ï‡∏π‡πâ Built-in ‡πÅ‡∏Ç‡∏ß‡∏ô‡∏ú‡∏ô‡∏±‡∏á", price:3490, cat:"builtin", img:"https://picsum.photos/300/200?5"},
  ];

  const productList = document.getElementById("productList");
  let cart = JSON.parse(localStorage.getItem('mk_cart_v1')||'[]');

  function saveCart(){ localStorage.setItem('mk_cart_v1', JSON.stringify(cart)); }

  function renderProducts(list){
    productList.innerHTML = list.map(p => `
      <div class="product-card">
        <img src="${p.img}" alt="${p.name}" />
        <h4>${p.name}</h4>
        <p>${p.price} ‡∏ö‡∏≤‡∏ó</p>
        <div class="btn" onclick="addToCart(${p.id})">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</div>
      </div>
    `).join("");
  }
  renderProducts(products);

  function filterCategory(cat){
    if(cat === 'all') renderProducts(products);
    else renderProducts(products.filter(p => p.cat === cat));
  }

  function toggleCart(){
    const el = document.getElementById("cartPanel");
    el.classList.toggle('active');
    el.setAttribute('aria-hidden', String(!el.classList.contains('active')));
  }

  function addToCart(id){
    const existing = cart.find(i => i.id === id);
    if(existing){ existing.qty += 1; }
    else { cart.push({id, qty:1}); }
    saveCart();
    renderCart();
    document.getElementById("cartPanel").classList.add('active');
    document.getElementById("cartPanel").setAttribute('aria-hidden','false');
  }

  function removeFromCart(id){
    cart = cart.filter(i => i.id !== id);
    saveCart(); renderCart();
  }

  function changeQty(id, delta){
    const item = cart.find(i => i.id === id);
    if(!item) return;
    item.qty += delta;
    if(item.qty <= 0) removeFromCart(id);
    else { saveCart(); renderCart(); }
  }

  function renderCart(){
    const cartDiv = document.getElementById("cartItems");
    if(cart.length === 0){ 
      cartDiv.innerHTML = '<p class="muted">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>'; 
      document.getElementById('totalPrice').innerText = '0'; 
      return; 
    }

    cartDiv.innerHTML = cart.map(ci => {
      const p = products.find(x => x.id === ci.id);
      const lineTotal = p.price * ci.qty;
      return `
        <div class="cart-item">
          <img src="${p.img}" alt="${p.name}">
          <div class="cart-item-info">
            <div class="name">${p.name}</div>
            <div class="price">${p.price} ‡∏ö‡∏≤‡∏ó x ${ci.qty}</div>
          </div>
          <div class="cart-item-actions">
            <div class="line-total">${lineTotal} ‡∏ö‡∏≤‡∏ó</div>
            <div class="qty-controls">
              <button onclick="changeQty(${ci.id}, -1)">-</button>
              <div>${ci.qty}</div>
              <button onclick="changeQty(${ci.id}, 1)">+</button>
              <button class="remove-btn" onclick="removeFromCart(${ci.id})">üóë</button>
            </div>
          </div>
        </div>
      `;
    }).join('');

    const total = cart.reduce((sum, i) => {
      const p = products.find(x => x.id === i.id);
      return sum + (p ? p.price * i.qty : 0);
    }, 0);
    document.getElementById('totalPrice').innerText = total;
  }

  renderCart();

  function continueShopping(){
    toggleCart();
    document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
  }

  function goToCheckout(){
    if(cart.length === 0){
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô');
      return;
    }
    showCheckoutPage();
  }

  function showCheckoutPage(){
    // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å
    document.querySelector('header').style.display = 'none';
    document.querySelector('.banner').style.display = 'none';
    document.querySelector('.categories').style.display = 'none';
    document.querySelector('.products-section').style.display = 'none';
    document.getElementById('cartPanel').style.display = 'none';

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ checkout
    const checkoutHTML = `
      <div id="checkoutPage" style="max-width: 900px; margin: 40px auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 3px 15px rgba(0,0,0,0.1);">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
          <h2 style="margin: 0;">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
          <button onclick="backToMain()" style="padding: 10px 20px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-weight: 600;">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 400px; gap: 30px;">
          <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
          <div>
            <h3 style="margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #333;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
            <div id="checkoutItems"></div>
          </div>

          <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ -->
          <div>
            <div style="background: #f9f9f9; padding: 25px; border-radius: 12px; position: sticky; top: 20px;">
              <h3 style="margin-top: 0; margin-bottom: 20px;">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
              <div style="margin-bottom: 15px; display: flex; justify-content: space-between;">
                <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
                <span id="checkoutSubtotal">0</span>
              </div>
              <div style="margin-bottom: 15px; display: flex; justify-content: space-between;">
                <span>‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</span>
                <span style="color: #28a745; font-weight: 600;">‡∏ü‡∏£‡∏µ</span>
              </div>
              <hr style="margin: 20px 0; border: 0; border-top: 2px solid #ddd;">
              <div style="display: flex; justify-content: space-between; font-size: 20px; font-weight: 700; margin-bottom: 25px;">
                <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                <span id="checkoutTotal">0</span>
              </div>
              
              <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏î‡∏™‡πà‡∏á -->
              <div style="margin-bottom: 20px;">
                <h4 style="margin: 0 0 12px 0; font-size: 16px;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</h4>
                <input type="text" id="customerName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px; margin-bottom: 12px;" required>
                <textarea id="shippingAddress" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á (‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà, ‡∏ñ‡∏ô‡∏ô, ‡∏ï‡∏≥‡∏ö‡∏•, ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠, ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î, ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå)" style="width: 100%; min-height: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px; resize: vertical; margin-bottom: 12px;" required></textarea>
                <input type="tel" id="customerPhone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px;" required>
              </div>
              
              <button onclick="confirmOrder()" style="width: 100%; padding: 16px; background: #333; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; transition: 0.2s;">
                ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
              </button>
            </div>
          </div>
        </div>
      </div>
    `;

    document.body.insertAdjacentHTML('beforeend', checkoutHTML);
    renderCheckoutItems();
  }

  function renderCheckoutItems(){
    const checkoutDiv = document.getElementById('checkoutItems');
    let html = '';
    let total = 0;

    cart.forEach(ci => {
      const p = products.find(x => x.id === ci.id);
      const lineTotal = p.price * ci.qty;
      total += lineTotal;

      html += `
        <div style="display: flex; gap: 20px; padding: 20px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 15px;">
          <img src="${p.img}" alt="${p.name}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 8px;">
          <div style="flex: 1;">
            <h4 style="margin: 0 0 8px 0;">${p.name}</h4>
            <p style="color: #666; margin: 4px 0;">‡∏£‡∏≤‡∏Ñ‡∏≤: ${p.price} ‡∏ö‡∏≤‡∏ó</p>
            <p style="color: #666; margin: 4px 0;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${ci.qty} ‡∏ä‡∏¥‡πâ‡∏ô</p>
          </div>
          <div style="text-align: right;">
            <div style="font-size: 18px; font-weight: 700; color: #333;">${lineTotal} ‡∏ö‡∏≤‡∏ó</div>
          </div>
        </div>
      `;
    });

    checkoutDiv.innerHTML = html;
    document.getElementById('checkoutSubtotal').innerText = total + ' ‡∏ö‡∏≤‡∏ó';
    document.getElementById('checkoutTotal').innerText = total + ' ‡∏ö‡∏≤‡∏ó';
  }

  function backToMain(){
    const checkoutPage = document.getElementById('checkoutPage');
    if(checkoutPage) checkoutPage.remove();
    
    document.querySelector('header').style.display = 'flex';
    document.querySelector('.banner').style.display = 'flex';
    document.querySelector('.categories').style.display = 'block';
    document.querySelector('.products-section').style.display = 'block';
    document.getElementById('cartPanel').style.display = 'block';
  }

  function confirmOrder(){
    const name = document.getElementById('customerName').value.trim();
    const address = document.getElementById('shippingAddress').value.trim();
    const phone = document.getElementById('customerPhone').value.trim();
    
    if(!name){
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•');
      return;
    }
    if(!address){
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á');
      return;
    }
    if(!phone){
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå');
      return;
    }
    
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°
    const total = cart.reduce((sum, i) => {
      const p = products.find(x => x.id === i.id);
      return sum + (p ? p.price * i.qty : 0);
    }, 0);
    
    // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
    showPaymentPage(total);
  }

  function showPaymentPage(total){
    // ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÉ‡∏™‡πà URL ‡∏£‡∏π‡∏õ QR Code ‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ https://i.ibb.co/
    // ‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏≤ URL ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:
    // 1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô ImgBB (https://ibb.co/bM0RyJHV)
    // 2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ ‚Üí "Copy image address" 
    // 3. ‡∏ô‡∏≥ URL ‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ (‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ https://i.ibb.co/)
    const qrCodeImageUrl = "https://i.ibb.co/W4hpdtDX/Prompt-Pay.jpg"; // ‚¨ÖÔ∏è ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô Direct Link
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á popup ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
    const paymentHTML = `
      <div id="paymentModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 10000;">
        <div style="background: white; padding: 40px; border-radius: 16px; text-align: center; max-width: 450px; position: relative;">
          <button onclick="closePayment()" style="position: absolute; top: 15px; right: 15px; background: transparent; border: none; font-size: 24px; cursor: pointer; color: #999;">‚úï</button>
          
          <h2 style="margin: 0 0 10px 0;">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
          <p style="color: #666; margin-bottom: 25px;">‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô PromptPay</p>
          
          <div style="background: #f5f5f5; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
            <img src="${qrCodeImageUrl}" alt="QR Code PromptPay" style="width: 280px; height: 280px; border-radius: 8px; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div style="display: none; padding: 40px 20px; color: #d33; background: #fee; border-radius: 8px;">
              <p style="margin: 0; font-weight: 600;">‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏π‡∏õ QR Code</p>
              <p style="margin: 10px 0 0 0; font-size: 14px;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ QR Code ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î</p>
            </div>
          </div>
          
          <div style="font-size: 24px; font-weight: 700; color: #333; margin-bottom: 25px;">
            ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: ${total.toLocaleString()} ‡∏ö‡∏≤‡∏ó
          </div>
          
          <button onclick="paymentSuccess()" style="width: 100%; padding: 16px; background: #28a745; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; transition: 0.2s;">
            ‚úì ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
          </button>
          
          <p style="font-size: 12px; color: #999; margin-top: 15px;">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</p>
        </div>
      </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', paymentHTML);
  }

  function closePayment(){
    const modal = document.getElementById('paymentModal');
    if(modal) modal.remove();
  }

  function paymentSuccess(){
    // ‡∏õ‡∏¥‡∏î popup ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
    closePayment();
    
    // ‡πÅ‡∏™‡∏î‡∏á popup ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    const successHTML = `
      <div id="successModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 10000;">
        <div style="background: white; padding: 50px 40px; border-radius: 16px; text-align: center; max-width: 400px;">
          <div style="font-size: 64px; margin-bottom: 20px;">‚úÖ</div>
          <h2 style="margin: 0 0 15px 0; color: #28a745;">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏∞</h2>
          <p style="color: #666; font-size: 16px; margin-bottom: 30px;">‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô<br>‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡πà‡∏∞</p>
          <button onclick="finishOrder()" style="padding: 14px 40px; background: #333; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer;">
            ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
          </button>
        </div>
      </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', successHTML);
  }

  function finishOrder(){
    // ‡∏•‡∏ö popup ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    const successModal = document.getElementById('successModal');
    if(successModal) successModal.remove();
    
    // ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
    cart = [];
    saveCart();
    
    // ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
    backToMain();
    renderCart();
  }

</script>

</body>
</html>